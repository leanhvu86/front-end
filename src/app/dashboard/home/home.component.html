<div class="w-100">
  <div class="w-100">
    <div class="col-lg-12 col-xl-12 col-md-12">
      <app-nav></app-nav>
      <div style="position: relative; margin: -470px 320px;background-color: rgba(62, 60, 61, 0.5);">
        <!--    <div style="margin-top: 2%;height: 2px;width: 90%;margin-left: 5%;"></div>-->
        <div class="d-flex justify-content-center mb-7">
          <p class="mb-5"
             style="font-size: 2rem;color: white; top: 15%;position: absolute;height: 50px;text-shadow: -3px 0px 20px #f1fff0;left: 15%;">
            Ẩm thực
            món chay
            truyền
            thống</p>
        </div>
        <div style="width: 100%;" class="d-flex justify-content-center pt-5">
          <form (submit)="findRecipe()" class="form pt-5 pb-5" style="width: 770px;">
            <input class="form-control" type="text" name="search" [(ngModel)]="search" autocomplete="off"
                   placeholder="Tìm kiêm công thức" style="width: 89%; height: 50px;cursor: pointer;float: left;">
            <input title="Search" value="" type="submit" class="button" style="background-color:#1cc91f">
          </form>
        </div>

      </div>
    </div>
  </div>
  <div class="container" style="width: 80% !important;margin-top: 700px;">
    <br><br> <br>
    <a class="a-title">CÔNG THỨC NỔI BẬT</a><br><br>
    <ng-template #skeleton>
      <div class="row">
        <div class="col-lg-3 col-md-4 mb-4">
          <div class="card ">
            <!-- <img class="card-img-top"  alt=" "> -->
            <div class="card-body text-center">
              <h5 class="card-title" style="height: 250px;margin-top: -35px;margin-left: -35px; width: 220px;"></h5>
              <p class="card-text" style="width:150px;"></p>
              <div class="form-inline">
                <a href="#" class="btn btn-outline-primary mr-auto ml-auto"></a>
              </div>
            </div>
          </div>
        </div>
        <div class="col-lg-3 col-md-4 mb-4">
          <div class="card ">
            <!-- <img class="card-img-top"  alt=" "> -->
            <div class="card-body text-center">
              <h5 class="card-title" style="height: 250px;margin-top: -35px;margin-left: -35px; width: 220px;"></h5>
              <p class="card-text" style="width:150px;"></p>
              <div class="form-inline">
                <a href="#" class="btn btn-outline-primary mr-auto ml-auto"></a>
              </div>
            </div>
          </div>
        </div>
        <div class="col-lg-3 col-md-4 mb-4">
          <div class="card ">
            <!-- <img class="card-img-top"  alt=" "> -->
            <div class="card-body text-center">
              <h5 class="card-title" style="height: 250px;margin-top: -35px;margin-left: -35px; width: 220px;"></h5>
              <p class="card-text" style="width:150px;"></p>
              <div class="form-inline">
                <a href="#" class="btn btn-outline-primary mr-auto ml-auto"></a>
              </div>
            </div>
          </div>
        </div>
        <div class="col-lg-3 col-md-4 mb-4">
          <div class="card ">
            <!-- <img class="card-img-top"  alt=" "> -->
            <div class="card-body text-center">
              <h5 class="card-title" style="height: 250px;margin-top: -35px;margin-left: -35px; width: 220px;"></h5>
              <p class="card-text" style="width:150px;"></p>
              <div class="form-inline">
                <a href="#" class="btn btn-outline-primary mr-auto ml-auto"></a>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="row" style="margin-top: -70px;">
        <div class="col-lg-3 col-md-4 mb-4">
          <div class="card ">
            <!-- <img class="card-img-top"  alt=" "> -->
            <div class="card-body text-center">
              <h5 class="card-title" style="height: 250px;margin-top: -35px;margin-left: -35px; width: 220px;"></h5>
              <p class="card-text" style="width:150px;"></p>
              <div class="form-inline">
                <a href="#" class="btn btn-outline-primary mr-auto ml-auto"></a>
              </div>
            </div>
          </div>
        </div>
        <div class="col-lg-3 col-md-4 mb-4">
          <div class="card ">
            <!-- <img class="card-img-top"  alt=" "> -->
            <div class="card-body text-center">
              <h5 class="card-title" style="height: 250px;margin-top: -35px;margin-left: -35px; width: 220px;"></h5>
              <p class="card-text" style="width:150px;"></p>
              <div class="form-inline">
                <a href="#" class="btn btn-outline-primary mr-auto ml-auto"></a>
              </div>
            </div>
          </div>
        </div>
        <div class="col-lg-3 col-md-4 mb-4">
          <div class="card ">
            <!-- <img class="card-img-top"  alt=" "> -->
            <div class="card-body text-center">
              <h5 class="card-title" style="height: 250px;margin-top: -35px;margin-left: -35px; width: 220px;"></h5>
              <p class="card-text" style="width:150px;"></p>
              <div class="form-inline">
                <a href="#" class="btn btn-outline-primary mr-auto ml-auto"></a>
              </div>
            </div>
          </div>
        </div>
        <div class="col-lg-3 col-md-4 mb-4">
          <div class="card ">
            <!-- <img class="card-img-top"  alt=" "> -->
            <div class="card-body text-center">
              <h5 class="card-title" style="height: 250px;margin-top: -35px;margin-left: -35px; width: 220px;"></h5>
              <p class="card-text" style="width:150px;"></p>
              <div class="form-inline">
                <a href="#" class="btn btn-outline-primary mr-auto ml-auto"></a>
              </div>
            </div>
          </div>
        </div>
      </div>
      <!-- </div> -->
      <!-- </section> -->
    </ng-template>
    <div class="row" data-aos="fade-in" data-aos-duration="4000" *ngIf="loadingSuccess; else skeleton">

      <div class="col-xl-3 col-lg-3 col-md-4 col-sm-6 px-0"
           *ngFor="let recipe of recipes| paginate: config; let i=index" style="position: relative;">
        <div class=" column">
          <div [routerLink]="['/detail/', recipe.nameSpace]"
               style="display: block;  overflow:hidden; float: left; ">
            <div class="w-100 mainGroupImage">
              <img style="width: 100%;height: 280px;image-rendering:crisp-edges;border-radius:5px;"
                   src="{{baseImageUrl+ recipe.imageUrl }}"/>
            </div>
          </div>
          <a class="link-name" title="xem chi tiết công thức" style="top: 300px;bottom:20px; position: absolute; min-width:150px; width: 200px;
                  left: 10px;
                    text-overflow: ellipsis;
            overflow: hidden;
            white-space:nowrap;
                    display: block; font-size: 16px;color: rgb(0, 0, 0);"
             [routerLink]="['/detail/', recipe.nameSpace]">{{recipe.recipeName}}</a>

          <div style="top:340px;left: -60px; position: absolute; font-size: 12px; opacity: 0.8; height: 100px;">&#160;
            <i class="fa fa-clock-o stats-ico" aria-hidden="true"> {{recipe.time}}ph </i>
          </div>
          <div style="top:340px;left: -15px; position: absolute; font-size: 12px;opacity: 0.8; height: 100px; ">&#160;
            <i class="fa fa-bar-chart stats-ico" aria-hidden="true">{{recipe.viewCount}}</i>
          </div>
          <div style="top:340px;left: 25px; position: absolute; font-size: 12px;opacity: 0.8; height: 100px; ">
            <i class="fa fa-bolt stats-ico" aria-hidden="true">&#160;{{recipe.hardLevel}}</i>
          </div>
          <div
            style="top:370px; position: absolute; font-size: 12px;opacity: 0.8; width: 210px; height: 1px; background: gray;  ">

          </div>
          <div style="top:375px; position: absolute; font-size: 12px; height: 100px; ">
            <a title="Công thức đăng bởi: {{recipe.user.name}}"
               style="font-size: 12px;color: black;width: 270px;text-align: left;">
              <div class="row">
                <div class="col" [routerLink]="['/member/info/', recipe.user._id]">
                  <img style="width: 50px;height: 50px;border-radius: 50px;display: inline-block;cursor: pointer;"
                       src="{{baseImageUrl+ recipe.user.imageUrl }}"/>
                  <input type="text" value="{{recipe.user.name}}"
                         style="width: 60%; text-overflow: ellipsis;display: inline-block;padding-left: 10px; border: none; cursor: pointer; background: none;"
                         disabled>
                </div>
                <div class="col-md-3">
                  <a class="button_slidehr slide_downhr"
                     style=" width: 50px;margin-top: 10px;margin-left: 10px;background: none;" id="bookmark"
                     title="Thêm công thức vào bộ sưu tập" (click)="addBookmark(recipe)"></a>
                </div>
              </div>
            </a>

            <!-- <app-add-bookmark [childMessage]="recipe" id="i"></app-add-bookmark> -->
          </div>

          <span *ngIf="recipe.videoLink" (click)='video(recipe.videoLink)'><i class="fa fa-play-circle-o fa-3x play"
                                                                              aria-hidden="true"
                                                                              style="top:25%;left:44%;width: 30px;height:30px;"></i></span>
          <span (click)="likeRecipe(recipe,i)" *ngIf="!recipe.like;else other_content"
                style="bottom: 35%; right: 5%;position: absolute;cursor: pointer;"><i id="heart{{i}}"
                                                                                     class="fa fa-heart fa-3x heart"
                                                                                     aria-hidden="true"></i></span>
          <ng-template #other_content>
            <span (click)="dislikeRecipe(recipe,i)"
                  style="bottom: 35%; right: 5%;position: absolute;cursor: pointer;"><i
              class="fa fa-heart fa-3x dislikeheart " id="heart{{i}}" aria-hidden="true"></i></span>
          </ng-template>
        </div>
      </div>

    </div>
    <br>
    <pagination-controls (pageChange)="pageChanged($event)"
                         style=" margin-left: 6%;  margin-top: 15px;"></pagination-controls>

    <div style="background: white; margin-top: 2%;height: 2px;width: 90%;margin-left: 5%; margin-bottom: 2%;"></div>
    <div class="clearfix"></div>
    <a class="a-title">BỘ SƯU TẬP NỔI BẬT</a>
    <ng-template #skeleton1>
      <!-- <main class="container mt-2">
      <div class="row">
        <div class="col-4 col-lg-2 p-2">
          <div class="user-img m-2 mr-auto ml-auto">
            <img src="/assets/img/user.svg" class="img-fluid rounded-circle">
          </div>
        </div>
        <div class="col-8 col-lg-10 pt-3 sm-text-center">
          <h2 class="display-5 text-capitalize sm-mr-auto sm-ml-auto"></h2>
          <p class="lead sm-mr-auto sm-ml-auto"></p>
          <a href="#" class="btn btn-secondary mr-1"></a><a href="#" class="btn btn-secondary"></a>
        </div>
      </div>
    </main> -->
      <section style="width: 100%;  min-height: auto;">
        <!-- <div class="pt-2 pb-4 text-center">
        <h5 class="mr-auto ml-auto"></h5>
      </div> -->
        <div class="container">
          <div class="row justify-content-between">
            <div class="col-lg-3 col-md-4 mb-4">
              <div class="card " style="height: 230px;">
                <!-- <img class="card-img-top"  alt=" "> -->
                <div class="card-body text-center">
                  <h5 class="card-title" style="height: 230px;margin-left: -35px; margin-top: -40px; width: 152%;"></h5>
                  <!-- <p class="card-text"></p>
                <div class="form-inline">
                  <a href="#" class="btn btn-outline-primary mr-auto ml-auto"></a>
                </div> -->
                </div>
              </div>
            </div>
            <div class="col-lg-3 col-md-4 mb-4">
              <div class="card " style="height: 230px;">
                <!-- <img class="card-img-top"  alt=" "> -->
                <div class="card-body text-center">
                  <h5 class="card-title" style="height: 230px;margin-left: -35px; margin-top: -40px; width: 152%;"></h5>
                  <!-- <p class="card-text"></p>
                <div class="form-inline">
                  <a href="#" class="btn btn-outline-primary mr-auto ml-auto"></a>
                </div> -->
                </div>
              </div>
            </div>
            <div class="col-lg-3 col-md-4 mb-4">
              <div class="card " style="height: 230px;">
                <!-- <img class="card-img-top"  alt=" "> -->
                <div class="card-body text-center">
                  <h5 class="card-title" style="height: 230px;margin-left: -35px; margin-top: -40px; width: 152%;"></h5>
                  <!-- <p class="card-text"></p>
                <div class="form-inline">
                  <a href="#" class="btn btn-outline-primary mr-auto ml-auto"></a>
                </div> -->
                </div>
              </div>
            </div>
            <div class="col-lg-3 col-md-4 mb-4">
              <div class="card " style="height: 230px;">
                <!-- <img class="card-img-top"  alt=" "> -->
                <div class="card-body text-center">
                  <h5 class="card-title" style="height: 230px;margin-left: -35px; margin-top: -40px; width: 152%;"></h5>
                  <!-- <p class="card-text"></p>
                <div class="form-inline">
                  <a href="#" class="btn btn-outline-primary mr-auto ml-auto"></a>
                </div> -->
                </div>
              </div>
            </div>
          </div>
        </div>
      </section>
    </ng-template>
    <!------------------ Hover Effect Style : Demo - 15 --------------->
    <div class="container mt-40" *ngIf="loadingSuccess; else skeleton1">

      <div class="row mt-30" style="margin-left: -50px;">
        <div class="col-xl-3 col-lg-3 col-md-6 col-sm-6 justify-content-around "
             *ngFor="let gallery of galleryTop;let i = index" style="margin-top: 20px;">
          <div class="box15">
            <img style="width: 265px;height: 230px;image-rendering:crisp-edges;"
                 src="{{baseImageUrl+ gallery.image }}"/>
            <div class="box-content">
              <h4 class="title" style="text-overflow: ellipsis;
              overflow: hidden;
              white-space:nowrap;" title="{{gallery.content}}" [routerLink]="['/galleryDetail/', gallery._id]">
                {{gallery.name}}
              </h4>

              <ul class="icon" style=" bottom:15% ;">
                <li><a><i class="fa fa-heart fa-2x " id="heartGallery{{i}}" style="margin-top: 15px;cursor: pointer;"
                          (click)="likeGallerry(gallery,i)" *ngIf="!gallery.like;else other_content"></i>
                  <ng-template #other_content><i style="margin-top: 15px; cursor: pointer;" id="heartGallery{{i}}"
                                                 (click)="nolikeGallery(gallery,i)" class="fa fa-heart fa-2x check"
                                                 aria-hidden="true"></i>
                  </ng-template>

                </a></li>

              </ul>
            </div>
          </div>
        </div>

      </div>
    </div>
    <div style="background: white; margin-top: 2%;height: 2px;width: 90%;margin-left: 5%; margin-bottom: 2%;"></div>
    <div class="clearfix"></div>
<!--    <br>-->
    <a class="a-title">TOP THÀNH VIÊN</a>
    <div class="clearfix" style="width: 10px;"></div>
    <br>
    <div style="margin-left: 2%; min-height: auto;" data-aos="fade-in" data-aos-duration="4000">
      <div *ngFor="let user of topUsers"
           style=" float: left;border-radius: 50%; background: none; width: 100px; position: relative; cursor: pointer;">
        <div class="memberfunny" [routerLink]="['/member/info/',user._id]">
          <a title="{{user.name}}">
            <img style="height: 55px;width:55px;border-radius:50px;" src="{{ user.imageUrl }}"/>
          </a>

          <!-- </div> -->
          <br><br>
        </div>
      </div>

    </div>
    <div class="clearfix"></div>
    <button type="button" class="btn btn-primary" data-toggle="modal" data-target=".bd-example-modal-lg"
            id="modal-button1" hidden>Large modal
    </button>

    <div class="modal fade bd-example-modal-lg" tabindex="-1" role="dialog" aria-labelledby="myLargeModalLabel"
         aria-hidden="true" style="height: auto;min-height: 600px;">
      <div class="modal-dialog modal-lg" role="document" style="height: auto;min-height: 600px;">
        <div class="modal-content" style="height: auto; margin-bottom: 50px;min-height: 600px;">
          <div class="modal-header">
            <h5 class="modal-title" id="exampleModalLongTitle">Danh sách bộ sưu tập</h5>
            <button type="button" class="close" data-dismiss="modal" aria-label="Close" id="close-modal">
              <span aria-hidden="true">&times;</span>
            </button>
          </div>
          <div class="container mt-40">
            <br>
            <br>
            <div class="row">
              <h5 class="text-center" style="margin-left: 30px;">Bộ sưu tập cá nhân</h5>
              <br>
              {{message}}
            </div>
            <div class="row mt-30">
              <div class="col-md-4 col-sm-6" *ngFor="let gallery of personalGallery" style="margin-bottom: 30px;">
                <div class="box3" (click)="addRecipeBookMark(gallery)">
                  <img style="width: 235px;height: 235px;image-rendering:crisp-edges;"
                       src="{{baseImageUrl+ gallery.image }}"/>
                  <div class="box-content">
                    <a class="title" style="font-size: 14px;">{{gallery.name}}</a>
                    <div style="float: left; width: 100%; height:0.5px; background: white;"></div>
                    <p class="description">
                      {{gallery.content}}
                    </p>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
