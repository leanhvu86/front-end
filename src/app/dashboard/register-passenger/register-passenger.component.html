<h3 style="margin:2% 35% ; width: 100%;">Tạo và chia sẻ công thức món chay</h3>
<div class="container" style="width:100%; border-radius:40px ; ">
  <div class="card " style=" width: 80%;background: white;">
    <br>
    <br><br>
    <form [formGroup]="profileForm" class="form-signin" (ngSubmit)="onSubmit()" style="width: 100%;">
      <div class="row">
        <div class="col ">
          <nav>
            <div class="nav nav-tabs nav-fill" id="nav-tab" role="tablist">
              <a class="nav-item nav-link active" id="nav-home-tab" data-toggle="tab" href="#nav-home" role="tab"
                aria-controls="nav-home" aria-selected="true"><a id="number">01</a> {{ 'cong.thuc' | translate }}</a>
              <a class="nav-item nav-link" id="nav-profile-tab" data-toggle="tab" href="#nav-profile" role="tab"
                aria-controls="nav-profile" aria-selected="false"> <a id="number">02</a>{{ 'phan.loai' | translate }}
              </a>
            </div>
          </nav>
          <div class="tab-content py-3 px-3 px-sm-0" id="nav-tabContent">

            <div class="tab-pane fade show active" id="nav-home" role="tabpanel" aria-labelledby="nav-home-tab">
              <div id="containerimage">
                <div *ngIf="fileUploadProgress">
                  Upload progress: {{ fileUploadProgress }}
                </div>
                <div class="image-preview mb-3" *ngIf="previewUrl;else other_content"
                  style="margin-top: 5%; margin-left: 5%;">
                  <img [src]="previewUrl" height="250" width="95%" />
                </div>
                <ng-template #other_content>
                  <img id="profile-img" style="width:90%;height: 20%; margin-left: 5%;"
                    src="../../../assets/images/unnamed.png" />
                </ng-template>
                <div *ngIf="uploadedFilePath">
                  {{uploadedFilePath}}
                </div>

                <input id="example" type="file" name="image" (change)="fileProgress($event)"
                  style="border-radius: 10px; top: 7%; border: 1px solid gray;display: block; bottom: 0px; left: 5%; right: 0px; opacity: 0;  position: absolute;"
                  class="upload-button" />
                <div
                  style=" border-radius: 5px;background: rgb(218, 212, 212); width: 85%;height: 10%; margin-left: 8%; opacity: 0.7; text-align: center;">
                  <a style="width: 90%; margin-left: 5%; margin-top: -15%; text-align: center;"> Click để tải ảnh đại
                    diện
                    <i class="fa fa-camera" aria-hidden="true"></i></a></div>
              </div>

              <br>

              <input type="text" formControlName="recipeName" class="form-control" required
                style="width:90%; border-radius:10px; margin:2% 5% ;" placeholder="{{ 'ten.cong.thuc' | translate }}" />

              <br />
              <textarea type="text" formControlName="content" class="form-control" cols="4"
                placeholder="{{ 'noidung.cong.thuc' | translate }}"
                style="width:90%;height: 100px; border-radius:10px; margin:2% 5% ; text-align: start;padding-top: 0px;">
              </textarea> <br />

              <div class="row" style="width: 90%; margin: 0 5%;">
                <input type="text" formControlName="content" class="col" required style="width:40%; border-radius:10px;"
                  placeholder="BXhdkehdfd" /><a class="col" style="float: left;"><strong>Video</strong>(Youtube
                  code/link)</a><a *ngIf="!showVideoTutorial" (click)="onChangeofvideo($event)"><i
                    class="fa fa-question-circle buttonhover" aria-hidden="true"></i>

                </a>

                <a *ngIf="showVideoTutorial" (click)="onChangeofvideo($event)"><i class="fa fa-check-circle buttoncheck"
                    aria-hidden="true"></i>

                </a>
              </div>
              <p *ngIf="showVideoTutorial" style="color: gray;padding-left: 5%;">
                Gợi ý:
                <br />
                https://youtu.be/BcYJHReYZJU
                <br />
                https://www.youtube.com/watch?v=BcYJHReYZJU
                <br />
                BcYJHReYZJU
              </p>
              <br />
              <a style="margin-left: 5%;">{{'dokho.thoigian' | translate }}</a>
              <br />
              <div class="row" style="width: 90%; margin: 0 5%;">
                <select type="text" formControlName="hardLevel" style="width:15%; border-radius:10px; margin:0 5% ; ">
                  <option value="1">{{'dokho.de' | translate }}</option>
                  <option value="1">{{'dokho.trungbinh' | translate }}</option>
                  <option value="1">{{'dokho.kho' | translate }}</option>
                  <option value="1">{{'dokho.ratkho' | translate }}</option>
                </select>
                <input type=" number" formControlName="time" style="width:10%; border-radius:10px; margin:0 5% ;">Phút
              </div>
              <br />

              <a style="margin-left: 5%;"> {{'nguyenlieu' | translate }}</a><span style="color: red;">*</span>
              <br />
              <a (click)="onChangeofOptions($event)"
                style="border-radius: 10px; border: 1px gray; width: 30%;margin-left: 70%;"
                title="Gom nguyên liệu theo nhóm"><i class="fa fa-list buttonhover" aria-hidden="true"> Gom nhóm nguyên
                  liệu</i></a>
              <br />
              <div
                style="width:90%; position: relative; padding-left: 5%;border-radius:10px; margin:0 5% ; height: 20%; padding: 2px 0 50px 0; border: 2px gray;"
                class="nguyenlieu">
                <input type="text" formControlName="ingredients" class="form-control" required
                  style="width:96%; border-radius:10px; margin:0 2% ;"
                  placeholder="{{ 'nhap.nguyen.lieu' | translate }}" />
                <!-- <span style="margin-left: 80%; border-radius: 10px;" class="buttoncheck buttonhover spancheck"><i
                    class="fa fa-question-circle" aria-hidden="true"></i> Xem
                  hướng
                  dẫn</span> -->
                <a *ngIf="!showIngredient" (click)="onChangeofingredient($event)"
                  style="right: 2%;position: absolute; margin-top: 0.5%;"><i
                    class="fa fa-question-circle buttoncheck buttonhover spancheck" aria-hidden="true">Xem
                    hướng
                    dẫn</i>

                </a>

                <a *ngIf="showIngredient" (click)="onChangeofingredient($event)"
                  style="right: 2%;position: absolute;margin-top: 0.5%;"><i
                    class="fa fa-check-circle buttoncheck buttonhover spancheck" aria-hidden="true">Đã hiểu</i>

                </a>
                <div *ngIf="showIngredient" style="font-size: 12px;">
                  <div>Gợi ý:</div>
                  <div>
                    <ul style="padding-left: 24px; ">
                      <li>Quy cách nhập: <span class="note-gray-highlight">định_lượng</span> <span
                          class="note-gray-highlight">đơn_vị_tính</span> <span
                          class="note-gray-highlight">tên_nguyên_liệu</span> <span class="note-gray-highlight">( ghi_chú
                          )</span></li>
                      <li>định_lượng: số lượng; đơn_vị_tính: gram, lít, cái...; tên_nguyên_liệu: tên nguyên liệu;
                        ghi_chú: diễn giải nếu có </li>

                      <li>
                        <span>Nhập nhiều nguyên liệu hoặc nhóm trên cùng dòng</span>
                        <ul>
                          <li>Nhập nguyên liệu ngăn cách nhau bằng dấu phẩy (,) hoặc chấm phẩy (;)
                          </li>
                          <li>ví dụ: <span class="note-gray-highlight">1/4 con gà; 3 trái ớt (đỏ); 1 lít nước</span>
                          </li>
                        </ul>
                      </li>
                      <!-- <li>
                        <span>Nhập nhóm nguyên liệu trên cùng dòng</span>
                        <ul>
                          <li>Nhập nguyên liệu </li>
                          <li>ví dụ: <span class="note-gray-highlight">100gr thịt gà (ghi chú)</span> hoặc <span
                              class="note-gray-highlight">thịt gà 100gr (ghi chú)</span></li>
                        </ul>
                      </li> -->
                    </ul>
                  </div>
                </div>
              </div>
              <br />
              <div *ngIf="show"
                style="width:90%; position: relative; border-radius:10px; margin:0 5% ; height: 20%; padding: 2px 0 50px 0; border: 2px black; background: rgb(245, 242, 242);">
                <div class="col" formArrayName="myInputs" style="font-weight: initial;padding: 2px 5px;">Chọn nhóm
                  nguyên
                  liệu
                  <a (click)="addInputs('myInputs')" style="border-radius: 10px;  position: absolute; right: 0.5%;"
                    title="Tạo nhóm nguyên liệu"><i
                      class="fa fa-plus-circle buttoncheck buttonhover spanGroup-ingredient" aria-hidden="true">Tạo nhóm
                      nguyên
                      liệu</i></a>
                  <hr>
                  <div class="row">
                    <div class="col-sm-4 ">
                      <a style="font-size: 12px; color: gray;">đã nhóm hoặc chưa có nguyên liệu</a>
                    </div>
                    <div class="col-sm-8">
                      <div [formGroup]="address" *ngFor="let address of myInputs.controls; let i = index;"
                        style="position: relative;">

                        <!-- <input type="radio" formControlName="ratioq" name="a" id="check" value="1"
                          style="width: 5%; float: left;">
                        <input type="text" formControlName="nameNL" class="form-control ingredientGroup"
                          placeholder="Thêm nhóm nguyên liệu"> -->
                        <div class="input-group">
                          <!-- <div class="input-group-prepend">
                            <div class="input-group-text" style="border: none; background: rgb(245, 242, 242);"> -->
                          <input type="text" class="form-control radioCheck" (input)="onSearchChange($event.target)"
                            style="width: 100%;border: none; color: gray; font-size: 12px;" formControlName="nameNL"
                            #textbox ng-model="all" placeholder="Thêm nhóm nguyên liệu"
                            aria-label="Text input with radio button">
                          <input type="radio" aria-label="Radio button for following text input" name="ossm">

                          <label for="ossm" style="margin-top: 0%; width: 80%;">- đang chọn
                            '{{textbox.value.toUpperCase()}}'
                            , thêm nguyên liệu
                            vào đây
                            -</label>

                          <!-- </div>
                          </div> -->

                          <div style=" right: 0px; position: absolute; margin-top: 7%; ">
                            <a (click)="deleteInputs(i)" style="width: 15px; height: auto;" title="Xóa nhóm"><i
                                class="fa fa-trash-o buttonhover" aria-hidden="true"></i></a>
                          </div>


                        </div>

                      </div>
                      <a (click)="addInputs('myInputs')" style="border-radius: 10px;  position: absolute; left: 0.5%;"
                        title="Tạo nhóm nguyên liệu"><i class="fa fa-plus buttonhover2 " aria-hidden="true"> thêm
                          nhóm
                          nguyên
                          liệu</i></a>
                    </div>
                  </div>

                </div>
              </div>
              <br />
              <a style="margin-left: 5%;"> Cách làm</a><span style="color: red;">*</span>
              <div class="col " formArrayName="aliases">
                <br />
                <div [formGroup]="address" class="nguyenlieu" *ngFor="let address of aliaseS.controls; let i = index;"
                  style=" font-size: 10px;width:90%; position: relative; border-radius:10px; margin:0 5% ; height: 200px; padding: 20px 0 50px 0; border: 2px gray;">
                  <label>
                    <input formControlName="index" disabled
                      style="color: white; background: rgb(214, 3, 3); width: 5%;left: 2%; top: 5%; position: absolute; border-radius: 7px; text-align: center; border: 1px solid white;" />
                    <input type="text" formControlName="name" class="form-control"
                      style="left: 12%; top: 7%;width: 50%; position: absolute; "
                      placeholder="tên bước thực hiện nếu có">
                    <input type="number" formControlName="time" class="form-control" placeholder="thời gian"
                      style="left: 72%; top: 7%;width: 20%; position: absolute; ">

                    <textarea type="text" formControlName="psnote" class="form-control"
                      placeholder="Nhập hướng dẫn cách làm cho bước {{index}}"
                      style="left: 12%; top: 40%;width: 80%; height: auto; position: absolute; " cols="8"></textarea>
                    <input type="checkbox" formControlName="check"
                      style="position: absolute;right: 10%; bottom: 7%; width: 5%;"><a
                      style="position: absolute;right: 0%; bottom: 5%; width: 25%;">là bước chuẩn bị</a>
                    <span (click)="deleteAlias(i)"><i class="fa fa-trash-o fa-2x buttonhover" aria-hidden="true" style="position: absolute;right: 2%; bottom: 2%; width: 30px !important;
                        height: 30px !important;"></i></span>
                  </label>
                </div>
                <div
                  style="width: 20%;height: auto; background: rgb(125, 149, 219); border-radius: 5px; padding: 3px; color: beige; margin: 2% 5%;">
                  <a [disabled]="!profileForm.controls.aliases.valid" class="buttonadd"
                    (click)="addInputs('aliases')">Thêm bước thực
                    hiện</a>
                </div>
              </div>

            </div>
            <div class="tab-pane fade" id="nav-profile" role="tabpanel" aria-labelledby="nav-profile-tab"
              style="height: fit-content;">

              <!-- Default switch -->
              <!-- <div class="custom-control custom-switch">
                <input type="checkbox" class="custom-control-input" id="customSwitches">
                <label class="custom-control-label" for="customSwitches">Toggle this switch element</label>
              </div> -->
              <div style="width: 100%; padding-left: 5%;"><a>Phân loại
                </a></div>
              <a style="font-size: 12px;width: 100%; padding-left: 5%;">Bước phân loại này sẽ giúp cho người dùng tìm
                thấy công thức của bạn dễ dàng
                hơn</a>
              <div style="width: 100%; padding:2% 5%; "><a>Ẩm thực</a></div>
              <app-coutry></app-coutry>
              <br>
            </div>
          </div>
        </div>
      </div>

      <div class="col">
        <br>
        <br>
        <button type="submit">Lưu và tiếp tục</button>
      </div>
    </form>
    <br />
    <br />
    <p>{{profileForm.status}}</p>
  </div>
</div>