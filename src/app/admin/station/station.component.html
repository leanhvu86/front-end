<h5 style="margin-left: 3%;">DANH SÁCH THÀNH VIÊN</h5>
<div class="search-hero">
  <input class="form-control" type="text" name="search" [(ngModel)]="searchText" autocomplete="off"
    placeholder="&#61442;  Tìm kiếm thành viên">
</div>
<a style="color: greenyellow;">{{message}}</a>
<div *ngFor="let user of users | filter:searchText| orderBy: key : reverse| paginate: config; let i=index">

</div>
<div class="table-responsive">
  <table class="table table-striped table-sm">
    <thead>
      <tr>
        <th>STT</th>
        <th style="max-width: 100px;"
          class="mdl-data-table__cell--non-numeric">
          Tên thành viên</th>
        <th  style="min-width: 150px;"
          class="mdl-data-table__cell--non-numeric">
          Email</th>
        <!-- <th>Token</th> -->
        <th>Ảnh</th>
        <th [class.active]="order === 'info.totalPoint'" (click)="setOrder('info.totalPoint')"
          class="mdl-data-table__cell--non-numeric">
          Tổng điểm <span [hidden]="reverse">▼</span><span [hidden]="!reverse">▲</span></th>
        <th style="max-width: 80px;">Vai trò</th>
        <th *ngIf="admin" style="max-width: 50px;">Thêm quản trị</th>
        <th style="max-width: 50px;">Khóa TK</th>
      </tr>
    </thead>
    <tbody
      *ngFor="let user of users | orderBy: order:reverse:'case-insensitive'| filter:searchText| paginate: config; let i=index">

      <tr>
        <td style="background: white; padding-top: 20px; text-align: center;">{{i+1}}</td>
        <td style="max-width: 50px;background: white;padding-top: 20px; text-align: center;">{{user.name}}</td>
        <td style="max-width: 80px;background: white;padding-top: 20px; text-align: center;">{{user.email}}</td>
        <!-- <td style="max-width: 100px;
        overflow: visible;
        text-overflow: initial;word-wrap: break-word;">{{user.salt}}</td> -->
        <td style="background: white;">
          <cl-image public-id="{{user.imageUrl}} ">
            <cl-transformation aspect-ratio="1:1" gravity="auto" radius="max" height="70" width="70" crop="fill">
            </cl-transformation>
          </cl-image>
        </td>
        <td style="background: white;padding-top: 20px; text-align: center;">{{user.totalPoint}}</td>
        <td style="background: white;padding-top: 20px; text-align: center;">{{user.role}}</td>
        <td *ngIf="admin" style="background: white;padding-top: 20px; text-align: center;">
          <button style="width: 100px; background: white; border: 1px solid greenyellow;" title="Phân quyền"
            (click)="updateRole(user)" class="button1">
            <span *ngIf="user.warningReport!==0; else other_content1" class="ng-scope">Hạ cấp</span>
            <ng-template #other_content1> <span class="ng-scope">Quản trị</span>
            </ng-template>
          </button>
        </td>
        <!-- <td style="max-width: 50px;">
          <button title="Báo cáo" (click)="updateReport(user)" class="button1"
            style="margin-left: 10px; border:  2px solid red; min-width: 50px;">
            <span class="ng-scope">{{user.warningReport}}</span>

          </button></td> -->

        <td style="background: white;padding-top: 20px; text-align: center;"><button
            style="width: 100px; background: white;border: 1px solid red;" title="Khóa" (click)="bannedUser(user)"
            class="button1" *ngIf="user.status===1; else other_content">
            <span class="ng-scope"></span>Khóa
          </button>
          <ng-template #other_content>
            <button style="width: 100px;background: white;border: 1px solid greenyellow;" title="Mở khóa"
              (click)="activeMember(user)" class="button1">
              <span class="ng-scope"></span>Mở khóa
            </button></ng-template>
        </td>
      </tr>
    </tbody>
  </table>

  <pagination-controls (pageChange)="pageChanged($event)" style="margin-left: 25%;"></pagination-controls>

</div>
